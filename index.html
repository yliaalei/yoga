<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ñ—É—Ä–Ω–∞–ª –ø–æ—Å–µ—â–µ–Ω–∏–π –π–æ–≥–∏</title>
  <style>
    :root {
      --bg: #f4f9f8;
      --card: #ffffff;
      --accent: #0ea5a4;
      --muted: #6b7280;
    }
    body {
      font-family: "Inter", system-ui, sans-serif;
      background: var(--bg);
      margin: 0;
      padding: 0;
      color: #111;
    }
    .page {
      display: none;
      max-width: 1000px;
      margin: 0 auto;
      padding: 24px;
    }
    .active {
      display: block;
    }
    h1 {
      text-align: center;
      margin-top: 40px;
      font-size: 26px;
    }
    .center {
      text-align: center;
      margin-top: 60px;
    }
    .btn {
      background: var(--accent);
      color: #fff;
      border: none;
      border-radius: 12px;
      padding: 14px 24px;
      font-size: 16px;
      margin: 12px;
      cursor: pointer;
      transition: 0.3s;
    }
    .btn:hover {
      background: #089c93;
    }
    .card {
      background: var(--card);
      padding: 18px;
      border-radius: 16px;
      box-shadow: 0 6px 18px rgba(12, 16, 20, 0.06);
    }
    table {
      border-collapse: collapse;
      margin: 0 auto;
      width: auto;
      font-size: 14px;
    }
    th, td {
      border: 1px solid #e6eef2;
      padding: 6px;
      text-align: center;
      vertical-align: middle;
    }
    th:first-child, td:first-child {
      text-align: left;
      padding-left: 12px;
      width: 200px;
    }
    thead th {
      background: #eef6f6;
    }
    td input[type="checkbox"] {
      width: 24px;
      height: 24px;
      display: block;
      margin: 0 auto;
    }
    input[type="text"], input[type="number"] {
      border: 1px solid #dbe7e6;
      border-radius: 6px;
      padding: 4px;
      text-align: center;
    }
    input[type="number"] {
      width: 34px;
    }
    .name-input {
      width: 100%;
      max-width: 200px;
      box-sizing: border-box;
    }
    .result {
      font-weight: 600;
      min-width: 120px;
    }
    .small {
      font-size: 12px;
      color: var(--muted);
      margin-top: 8px;
      text-align: center;
    }
    .back-btn {
      background: #fff;
      border: 1px solid #ccc;
      padding: 8px 16px;
      border-radius: 10px;
      cursor: pointer;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>

  <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è -->
  <div class="page active" id="welcomePage">
    <h1>üßò‚Äç‚ôÄÔ∏è –ù–∞–º–∞—Å—Ç–µ üåø<br>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∂—É—Ä–Ω–∞–ª –ø—Ä–∞–∫—Ç–∏–∫ –π–æ–≥–∏</h1>
    <div class="center">
      <button class="btn" onclick="showPage('morningPage')">üåû –£—Ç—Ä–µ–Ω–Ω–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏</button>
      <button class="btn" onclick="showPage('eveningPage')">üåô –í–µ—á–µ—Ä–Ω–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏</button>
    </div>
  </div>

  <!-- –£—Ç—Ä–µ–Ω–Ω–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ -->
  <div class="page" id="morningPage">
    <button class="back-btn" onclick="showPage('welcomePage')">‚Üê –ù–∞–∑–∞–¥</button>
    <h1>üåû –ñ—É—Ä–Ω–∞–ª —É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫</h1>
    <div class="card">
      <table id="morningTable">
        <thead>
          <tr>
            <th>–ú–µ—Å—è—Ü:</th>
            <th colspan="8"><input type="text" id="monthMorning" placeholder="–í–≤–µ–¥–∏—Ç–µ –º–µ—Å—è—Ü"></th>
            <th></th>
          </tr>
          <tr>
            <th>–§–ò</th>
            <th><input type="number" min="1" max="31"></th>
            <th><input type="number" min="1" max="31"></th>
            <th><input type="number" min="1" max="31"></th>
            <th><input type="number" min="1" max="31"></th>
            <th><input type="number" min="1" max="31"></th>
            <th><input type="number" min="1" max="31"></th>
            <th><input type="number" min="1" max="31"></th>
            <th><input type="number" min="1" max="31"></th>
            <th>–ò—Ç–æ–≥</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <div class="small">–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</div>
    </div>
  </div>

  <!-- –í–µ—á–µ—Ä–Ω–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ -->
  <div class="page" id="eveningPage">
    <button class="back-btn" onclick="showPage('welcomePage')">‚Üê –ù–∞–∑–∞–¥</button>
    <h1>üåô –ñ—É—Ä–Ω–∞–ª –≤–µ—á–µ—Ä–Ω–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫</h1>
    <div class="card">
      <table id="eveningTable">
        <thead>
          <tr>
            <th>–ú–µ—Å—è—Ü:</th>
            <th colspan="8"><input type="text" id="monthEvening" placeholder="–í–≤–µ–¥–∏—Ç–µ –º–µ—Å—è—Ü"></th>
            <th></th>
          </tr>
          <tr>
            <th>–§–ò</th>
            <th><input type="number" min="1" max="31"></th>
            <th><input type="number" min="1" max="31"></th>
            <th><input type="number" min="1" max="31"></th>
            <th><input type="number" min="1" max="31"></th>
            <th><input type="number" min="1" max="31"></th>
            <th><input type="number" min="1" max="31"></th>
            <th><input type="number" min="1" max="31"></th>
            <th><input type="number" min="1" max="31"></th>
            <th>–ò—Ç–æ–≥</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <div class="small">–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</div>
    </div>
  </div>

  <script>
    function showPage(id) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    function createJournal(tableId, storageKey, monthId) {
      const table = document.getElementById(tableId);
      const tbody = table.querySelector('tbody');
      const monthInput = document.getElementById(monthId);
      const rows = 14;

      // –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫
      for (let i = 0; i < rows; i++) {
        const tr = document.createElement('tr');
        const tdName = document.createElement('td');
        const nameInput = document.createElement('input');
        nameInput.type = 'text';
        nameInput.className = 'name-input';
        nameInput.placeholder = (i + 1) + '. –§–∞–º–∏–ª–∏—è –ò–º—è';
        tdName.appendChild(nameInput);
        tr.appendChild(tdName);

        // –Ø—á–µ–π–∫–∏ —Å –≥–∞–ª–æ—á–∫–∞–º–∏
        for (let j = 0; j < 8; j++) {
          const td = document.createElement('td');
          const chk = document.createElement('input');
          chk.type = 'checkbox';
          td.appendChild(chk);
          tr.appendChild(td);
        }

        const tdResult = document.createElement('td');
        tdResult.className = 'result';
        tr.appendChild(tdResult);
        tbody.appendChild(tr);
      }

      // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
      const saved = JSON.parse(localStorage.getItem(storageKey) || '{}');
      if (saved.month) monthInput.value = saved.month;
      tbody.querySelectorAll('tr').forEach((tr, i) => {
        const name = tr.querySelector('.name-input');
        const chks = tr.querySelectorAll('input[type=checkbox]');
        if (saved[i]) {
          name.value = saved[i].name || '';
          chks.forEach((c, idx) => c.checked = saved[i].checks[idx] || false);
        }
        updateResult(tr);
      });

      // –°–ª—É—à–∞—Ç–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π
      table.addEventListener('input', saveData);
      function saveData() {
        const data = { month: monthInput.value };
        tbody.querySelectorAll('tr').forEach((tr, i) => {
          const name = tr.querySelector('.name-input').value;
          const chks = [...tr.querySelectorAll('input[type=checkbox]')].map(c => c.checked);
          data[i] = { name, checks: chks };
          updateResult(tr);
        });
        localStorage.setItem(storageKey, JSON.stringify(data));
      }

      function updateResult(tr) {
        const chks = tr.querySelectorAll('input[type=checkbox]');
        const count = [...chks].filter(c => c.checked).length;
        const tdRes = tr.querySelector('.result');
        if (count >= 6) tdRes.textContent = '–ú–∞—Å—Ç–µ—Ä –±–∞–ª–∞–Ω—Å–∞';
        else if (count === 4) tdRes.textContent = '–ô–æ–≥–∞ –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫';
        else if (count === 2 || count === 3) tdRes.textContent = '–ú–∞—Å—Ç–µ—Ä –≥–∏–±–∫–∏–π –≥—Ä–∞—Ñ–∏–∫';
        else tdRes.textContent = '';
      }
    }

    createJournal('morningTable', 'yogaMorning', 'monthMorning');
    createJournal('eveningTable', 'yogaEvening', 'monthEvening');
  </script>
</body>
</html>
